<!-- res rej -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //promise 
        // function promise1(flag){
        //     return new Promise(function(resolve, reject){
        //         if(flag){
        //             resolve(`promise상태는 fulfulled!!,then으로 연결됩니다.\n 이때의 flag가 true입니다`);
        //         } else {
        //         reject(`promise상태는 rejected!! catch로 연결됩니다. \n 이때의 flag는 false입니다.`)
        //     }
        //     });
        // }
        // promise1(true)
        // .then( function(result){
        //     console.log(result);
        // })
        // .catch(function(err){
        //     console.log(err);
        // })



        // //promise 사용
        // function goMart(){
        //     console.log('마트에 가서 음료 살지 고민한다.')
        // }
        // function pickDrink(){
        //     return new Promise((resolve,reject)=>{//promise함수를 정의하고 밑에 사용하는거
        //         setTimeout(()=>{
        //             console.log('고민끝')
        //             product='제로콜라'
        //             price=2000;
        //             resolve();
        //         },2000);
        //     })
        // }


        // function pay(){
        //     console.log(`상품명:${product},가격:${price}`);
        // }

        // let product;
        // let price;
        // // goMart();
        // // pickDrink().then(pay);
        function call(name, cd){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    console.log(name);
                    resolve(name);
                },1000)
            })
        }
        function back (cd){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    console.log('back')
                    resolve('back')
                },1000)
            })
        }
        function hell(cd){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                
                resolve('callback hell')
                
                },1000)
            })
        }
        // .catch(function(err){
        // // //     console.log(err);}
        // call('kim')
        //     .then((name)=>{
        //         console.log(name+'반가워');
        //         return back();
        //     })
        //     .then((back)=>{
        //         console.log(back+'을 실행했구나');
        //         return hell();
        //     }) 
        //     .then((hell)=>{
        //         console.log('여기는'+ hell);
        //     })     

            async function exec(){
                let name1 = await call('kim')
                console.log(name1+'반가워')
                let back1 = await back()
                console.log(back1+'을 실행했구나')
                let hell1 = await hell()
                console.log('여기는'+hell1)
                
            }
            exec()





        // //async/await

        // async function exec(){
        //     goMart();
        //     await pickDrink();
        //     pay();
        // }
        // exec();
        

    </script>
</body>
</html>